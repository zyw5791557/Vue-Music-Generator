webpackJsonp([6],{587:function(t,e,a){"use strict";function r(t){a(624)}Object.defineProperty(e,"__esModule",{value:!0});var s=a(604),o=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,function(){return s[t]})}(i);var c=a(626),h=a(9),n=r,u=h(o.a,c.a,!1,n,"data-v-34a92dae",null);e.default=u.exports},604:function(t,e,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(58),o=r(s),i=a(214),c=r(i),h=a(215),n=r(h),u=a(217),l=r(u),d=a(219),p=a(57),f=a(86),v=a(49);e.default={name:"Search",components:{SearchBox:c.default,SearchList:n.default,Suggest:l.default},mixins:[f.playlistMixin,f.searchMixin],data:function(){return{hotKey:[]}},created:function(){this._getHotKey()},methods:(0,o.default)({handlePlaylist:function(t){var e=t.length>0?"60px":"";this.$refs.searchResult.style.bottom=e,this.$refs.suggest.refresh(),this.$refs.shortcutWrapper.style.bottom=e,this.$refs.shortcut.refresh()},showConfirm:function(){var t=this;this.$createConfirm({text:"是否清空所有搜索历史",confirmBtnText:"清空",onConfirm:function(){t.clearSearchHistory()}}).show()},_getHotKey:function(){var t=this;(0,d.getHotKey)().then(function(e){e.code===p.ERR_OK&&(t.hotKey=e.data.hotkey.slice(0,10))})}},(0,v.mapActions)(["clearSearchHistory"])),watch:{query:function(t){var e=this;t||setTimeout(function(){e.$refs.shortcut.refresh()},20)}}}},624:function(t,e,a){var r=a(625);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(580)("470fa24c",r,!0,{})},625:function(t,e,a){e=t.exports=a(579)(!1),e.push([t.i,".search .search-box-wrapper[data-v-34a92dae]{margin:20px}.search .shortcut-wrapper[data-v-34a92dae]{position:fixed;top:178px;bottom:0;width:100%}.search .shortcut-wrapper .shortcut[data-v-34a92dae]{height:100%;overflow:hidden}.search .shortcut-wrapper .shortcut .hot-key[data-v-34a92dae]{margin:0 20px 20px}.search .shortcut-wrapper .shortcut .hot-key .title[data-v-34a92dae]{margin-bottom:20px;font-size:14px;color:hsla(0,0%,100%,.5)}.search .shortcut-wrapper .shortcut .hot-key .item[data-v-34a92dae]{display:inline-block;padding:5px 10px;margin:0 20px 10px 0;border-radius:6px;background:#333;font-size:14px;color:hsla(0,0%,100%,.3)}.search .shortcut-wrapper .shortcut .search-history[data-v-34a92dae]{position:relative;margin:0 20px}.search .shortcut-wrapper .shortcut .search-history .title[data-v-34a92dae]{display:flex;align-items:center;height:40px;font-size:14px;color:hsla(0,0%,100%,.5)}.search .shortcut-wrapper .shortcut .search-history .title .text[data-v-34a92dae]{flex:1}.search .shortcut-wrapper .shortcut .search-history .title .clear .icon-clear[data-v-34a92dae]{font-size:14px;color:hsla(0,0%,100%,.3)}.search .search-result[data-v-34a92dae]{position:fixed;width:100%;top:178px;bottom:0}",""])},626:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search"},[a("div",{staticClass:"search-box-wrapper"},[a("search-box",{ref:"searchBox",on:{query:t.onQueryChange}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.query,expression:"!query"}],ref:"shortcutWrapper",staticClass:"shortcut-wrapper"},[a("cube-scroll",{ref:"shortcut",staticClass:"shortcut"},[a("div",{staticClass:"hot-key"},[a("h1",{staticClass:"title"},[t._v("热门搜索")]),t._v(" "),a("ul",t._l(t.hotKey,function(e){return a("li",{staticClass:"item",on:{click:function(a){t.addQuery(e.k)}}},[a("span",[t._v(t._s(e.k))])])}))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.searchHistory.length,expression:"searchHistory.length"}],staticClass:"search-history"},[a("h1",{staticClass:"title"},[a("span",{staticClass:"text"},[t._v("搜索历史")]),t._v(" "),a("span",{staticClass:"clear",on:{click:t.showConfirm}},[a("i",{staticClass:"icon-clear"})])]),t._v(" "),a("search-list",{attrs:{searches:t.searchHistory},on:{delete:t.deleteSearchHistory,select:t.addQuery}})],1)])],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.query,expression:"query"}],ref:"searchResult",staticClass:"search-result"},[a("suggest",{ref:"suggest",attrs:{query:t.query},on:{select:t.saveSearch}})],1),t._v(" "),a("router-view")],1)},s=[],o={render:r,staticRenderFns:s};e.a=o}});